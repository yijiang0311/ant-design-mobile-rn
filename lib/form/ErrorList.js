"use strict";"use client";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));var React=_interopRequireWildcard(require("react"));var _Brief=_interopRequireDefault(require("../list/Brief"));var _style=require("../style");var _style2=_interopRequireDefault(require("./style"));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var EMPTY_LIST=[];function toErrorEntity(error,prefix,errorStatus){var index=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;return{key:typeof error==='string'?error:"".concat(prefix,"-").concat(index),error:error,errorStatus:errorStatus};}var ErrorList=function ErrorList(_ref){var styles=_ref.styles,help=_ref.help,helpStatus=_ref.helpStatus,_ref$errors=_ref.errors,errors=_ref$errors===void 0?EMPTY_LIST:_ref$errors,_ref$warnings=_ref.warnings,warnings=_ref$warnings===void 0?EMPTY_LIST:_ref$warnings;var fullKeyList=React.useMemo(function(){if(help!==undefined&&help!==null){return[toErrorEntity(help,'help',helpStatus)];}return[].concat((0,_toConsumableArray2.default)(errors.map(function(error,index){return toErrorEntity(error,'error','error',index);})),(0,_toConsumableArray2.default)(warnings.map(function(warning,index){return toErrorEntity(warning,'warning','warning',index);})));},[help,helpStatus,errors,warnings]);var theme=React.useContext(_style.ThemeContext);var defaultStyles=React.useMemo(function(){return(0,_style2.default)(theme);},[theme]);return React.createElement(React.Fragment,null,fullKeyList.map(function(_ref2){var key=_ref2.key,error=_ref2.error,errorStatus=_ref2.errorStatus;return React.createElement(_Brief.default,{key:key,style:[errorStatus?[defaultStyles[errorStatus],styles===null||styles===void 0?void 0:styles[errorStatus]]:undefined]},error);}));};var _default=ErrorList;exports.default=_default;